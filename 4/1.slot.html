<html>

<head>
    <title>插槽 slot</title>
    <script src="./../lib//vue-2.6.0.js"></script>
</head>

<body>
    <div id="root">
        <div>案例1：slot的基本用法</div>
        <Test>
            <!-- <template v-slot:header="DataFromSub"> -->
            <template v-slot:header="{user, section}">
                <!-- {{ JSON.stringify(DataFromSub) }} -->
                <!-- {{ DataFromSub.section }} -->
                <!-- {{ DataFromSub.user.a }} -->
                <!-- {{ DataFromSub.user.a }} -->
                <!-- 解构写法 -->
                {{section}}
    </div>
    </template>
    <template v-slot="{user}">
        <div>自定义body({{user.b}})</div>
    </template>
    </Test>
    </div>
    <!-- <div id="root2">
      <div>案例2：Vue2.6新特性 - 动态slot</div>
      <Test>
        <template v-slot:[section]="{section}">
          <div>this is {{section}}</div>
        </template>
      </Test>
      <button @click="change">switch header and body</button>
    </div> -->
    <script>
        //  子组件向父组件传参,  只传递子组件内部
        Vue.component('Test', {
            template:
                '<div>' +
                '<slot name="header" :user="obj" :section="\'headers\'">' +
                '<div>默认header</div>' +
                '</slot>' +
                '<slot :user="obj" :section="\'body\'">默认body</slot>' +
                '</div>',
            data() {
                return {
                    obj: { a: 1, b: 2 },

                }
            }
        })
        new Vue({ el: '#root' })
    //   new Vue({
    //     el: '#root2',
    //     data() {
    //       return {
    //         section: 'header'
    //       }
    //     },
    //     methods: {
    //       change() {
    //         this.section === 'header' ?
    //           this.section = 'default' :
    //           this.section = 'header'
    //       }
    //     }
    //   })

    /* 
    
        1. 文档
        https://www.jianshu.com/p/459da1ad3697

                //  子组件向父组件传参,  只传递子组件内部

                先替换模板,  然后 , 

                父组件,  获取模板数据

                <template v-slot:header="DataFromSub"></template>

                指定模板:
                写法1:  v-slot:header="DataFromSub",   引用DataFromSub

                   <!-- {{ JSON.stringify(DataFromSub) }} -->
                <!-- {{ DataFromSub.section }} -->
                <!-- {{ DataFromSub.user.a }} -->
                <!-- {{ DataFromSub.user.a }} -->
               


                 <template v-slot:header="{user, section}"></template>
                写法2: 解构获取值
                 <!-- 解构写法 -->
                {{user}}
                {{section}}
    */
    </script>


</body>

</html>